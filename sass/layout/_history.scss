@use '../abstracts/functions' as *;
@use '../abstracts/variables' as *;
@use '../abstracts/colors' as *;
@use '../abstracts/mixins' as *;
@use '../abstracts/media-queries' as *;

.history {
    @include scroll-snap-section;
    background-color: $white;
    padding: px_to_rem(80px) 0;
    overflow: hidden;
    min-height: 100vh;
    @include flex-column;
    justify-content: center;

    &__heading {
        text-align: center;
        margin-bottom: px_to_rem(40px);

        &--main {
            font-family: $font-family-primary;
            font-size: px_to_rem(14px);
            @include uppercase-text;
            color: $dark-100;
            position: relative;
            display: inline-block;

            &::after {
                content: '';
                position: absolute;
                bottom: px_to_rem(-10px);
                left: 50%;
                transform: translateX(-50%);
                width: px_to_rem(60px);
                height: 1px;
                background-color: $dark-100;
            }
        }
    }

    &__wrapper {
        &--heading {
            padding: 0 px_to_rem(80px);
            margin-bottom: px_to_rem(60px);

            &-main {
                font-family: $font-family-display;
                font-size: px_to_rem(30px);
                color: $dark-100;
            }
        }

        &--content {
            position: relative;
            padding-bottom: px_to_rem(20px);
        }
    }
}

.swiper {
    width: 100%;
    padding: px_to_rem(20px) 0;
    overflow: visible;
}

.swiper-wrapper {
    align-items: center;
}

.swiper-slide {
  width: px_to_rem(220px);
  height: auto;
  margin-right: px_to_rem(20px);
  @include flex-column(px_to_rem(8px));
  justify-content: flex-end;
  position: relative;
  transform-origin: center center;
  transform: scale(0.88);

  &.history__slide--featured {
    width: px_to_rem(420px);
  }

  &.swiper-slide-prev,
  &.swiper-slide-next {
    transform: scale(0.95);
    opacity: 0.98;
  }

  .history__image {
    width: 100%;
    height: auto;
    object-fit: cover;
    display: block;
    box-shadow: 0 10px 30px $shadow-light;
    transform: translateY(0);
  }

  .history__title {
    position: absolute;
    top: 20%;
    left: px_to_rem(15px);
    right: px_to_rem(15px);
    color: $white;
    font-family: $font-family-primary;
    font-size: px_to_rem(10px);
    font-weight: 500;
    @include uppercase-text;
    z-index: 2;
    text-shadow: 0 2px 4px $shadow-dark;
  }
}

.history__year {
  font-family: $font-family-display;
  font-size: px_to_rem(14px);
  color: $dark-100;
  margin: 0;
  display: block;
  text-align: center;
  font-weight: 600;
  position: absolute;
  top: px_to_rem(-18px);
  left: 0;
  width: 100%;
  transition: font-size 0.25s ease, top 0.25s ease, color 0.25s ease;
}

.swiper-slide-active {
  opacity: 1;
  z-index: 40;
  transform: scale(1.22);

  .history__year {
    color: $black;
    font-size: px_to_rem(36px);
    top: px_to_rem(-42px);
  }

  .history__image {
    box-shadow: 0 20px 40px $shadow-medium;
    transform: translateY(0);
  }
}

@media (max-width: $mobile) {
  .swiper-slide { width: calc(100% - #{px_to_rem(40px)}); padding-top: px_to_rem(22px); transform: scale(0.95); }
  .swiper-slide-active { transform: scale(1.05); }
  .history__year { font-size: px_to_rem(18px); top: px_to_rem(-28px); }
  .history__timeline { margin-top: px_to_rem(20px); }
}

